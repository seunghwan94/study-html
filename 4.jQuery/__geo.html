<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Page Title</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <script>

    
  function f() {
    let lati;
    let long

    function getPosition (){
      navigator.geolocation.getCurrentPosition(function(position) {
        console.log(position);
        lati = position.coords.latitude;
        long = position.coords.longitude;
      });
    }
    function getRet() {
      return {lati, long};
    }
    
    return {
      getRet,
      getPosition
    }
  }  
  const result = f();
  result.getPosition(); // init
  setTimeout(() => {
    console.log(result.getRet());
    console.log(result.getRet());
    console.log(result.getRet());

  }, 100);
   
  </script>
</head>
<body>
  
</body>
</html>